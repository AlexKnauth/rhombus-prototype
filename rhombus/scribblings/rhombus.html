<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Rhombus Prototype</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="file:///Users/mflatt/repo/mflatt/shrubbery-rhombus-0/rhombus/scribblings/rhombus.html" class="tocviewselflink" data-pltdoc="x">Rhombus Prototype</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="file:///Users/mflatt/repo/mflatt/shrubbery-rhombus-0/rhombus/scribblings/rhombus.html#%28part._.Notation%29" class="tocviewlink" data-pltdoc="x">Notation</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Rhombus_.Prototype%29" class="tocsubseclink" data-pltdoc="x">Rhombus Prototype</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Notation%29" class="tocsubseclink" data-pltdoc="x">Notation</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">8.3.0.7</span></div><h2><a name="(part._.Rhombus_.Prototype)"></a>Rhombus Prototype</h2><h3>1<tt>&nbsp;</tt><a name="(part._.Notation)"></a>Notation</h3><p>Numbers are decimal, either integer or floating-point, or they&#8217;re
hexadecimal integers written with <span class="RktInBG"><span class="hspace"></span><span class="RktIn">0x</span><span class="hspace"></span></span>:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">0</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktVal">42</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktVal">-42</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktVal">1_048_576</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktVal">3.14157</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktVal">.5</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktVal">6.022e23</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktVal">0xf00ba7ba2</span></p></td></tr></table></p><p>Identifiers are Unicode alphanumeric and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">_</span><span class="hspace"></span></span> with an initial
character that is not numeric.</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">pi</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktSym">scissor7</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktSym">&#960;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktSym">underscore_case</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktSym">camelCase</span></p></td></tr></table></p><p>These characters are used for shrubbery structure and are
mostly not available for use in operators:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">( ) [ ] { }</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">; ,</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">: |</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">&#171; &#187;</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">\</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">" ~</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"># @</span></p></td></tr></table></p><p>The <span class="RktInBG"><span class="hspace"></span><span class="RktIn">:</span><span class="hspace"></span></span> and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span> characters can be used as part of an
operator, and any other Unicode punctuation or symbol character is fair
game for an operator:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">+</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="stt">.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="stt">-&gt;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="stt">&gt;=</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="stt">!^$&amp;%$</span></p></td></tr></table></p><p>To avoid potential confusion with operators alongside numbers, however,
an operator that ends in <span class="RktInBG"><span class="hspace"></span><span class="RktIn">+</span><span class="hspace"></span></span>, <span class="RktInBG"><span class="hspace"></span><span class="RktIn">-</span><span class="hspace"></span></span>, or <span class="RktInBG"><span class="hspace"></span><span class="RktIn">.</span><span class="hspace"></span></span> must
consist only of that character. So, <span class="RktInBG"><span class="hspace"></span><span class="RktIn">++</span><span class="hspace"></span></span> and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">...</span><span class="hspace"></span></span> are
operators, but <span class="RktInBG"><span class="hspace"></span><span class="RktIn">!+</span><span class="hspace"></span></span> is not. Similar problems happen with
comments, so an operator cannot contain <span class="RktInBG"><span class="hspace"></span><span class="RktIn">//</span><span class="hspace"></span></span> or <span class="RktInBG"><span class="hspace"></span><span class="RktIn">/*</span><span class="hspace"></span></span> or
have multiple characters and end in <span class="RktInBG"><span class="hspace"></span><span class="RktIn">/</span><span class="hspace"></span></span>.</p><p>Keywords are like identifiers, but prefixed with <span class="RktInBG"><span class="hspace"></span><span class="RktIn">~</span><span class="hspace"></span></span> and no space:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">~base</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktPn">~stronger_than</span></p></td></tr></table></p><p>Booleans:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">#true</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktVal">#false</span></p></td></tr></table></p><p>Strings and byte strings:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"This is a string, just like you&#8217;d expect"</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktVal">#"a byte string"</span></p></td></tr></table></p><p>Comments are C-style, but block comments are nestable:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">before</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktCmt">// This is a line comment</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktCmt">/* This is a multiline</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">       comment that /* continues */</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">       on further lines */</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktSym">after</span></p></td></tr></table></p><p>If you need anything more at the lexeme level (such as fancier numbers),
escape to S-expression notation with <span class="RktInBG"><span class="hspace"></span><span class="RktIn">#{</span><span class="hspace"></span></span> ... <span class="RktInBG"><span class="hspace"></span><span class="RktIn">}</span><span class="hspace"></span></span>.</p><p>Shrubbery notation is whitespace-sensitive, and it uses line breaks and
indentation for grouping. A line with more indentation starts a <span class="emph">block</span>,
and it&#8217;s always after a line that ends <span class="RktInBG"><span class="hspace"></span><span class="RktIn">:</span><span class="hspace"></span></span>, that ends
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span> (much less commonly), or that starts <span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span>. You can
think of a more-indented <span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span> as being preceded implicitly by a
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">:</span><span class="hspace"></span></span> at the end of the previous line. A <span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span> counts as
being indented by half a column, so the <span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span>s below are indented
even when they are written right under <span class="stt">if</span>, <span class="stt">match</span>, or
<span class="stt">cond</span>:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">begin</span><span class="stt">:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">group</span><span class="hspace">&nbsp;</span><span class="RktSym">within</span><span class="hspace">&nbsp;</span><span class="RktSym">block</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">another</span><span class="hspace">&nbsp;</span><span class="RktSym">group</span><span class="hspace">&nbsp;</span><span class="RktSym">within</span><span class="hspace">&nbsp;</span><span class="RktSym">block</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktSym">if</span><span class="hspace">&nbsp;</span><span class="RktSym">is_rotten</span><span class="RktPn">(</span><span class="RktSym">apple</span><span class="RktPn">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktSym">get_another</span><span class="RktPn">(</span><span class="RktPn">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktSym">take_bite</span><span class="RktPn">(</span><span class="RktPn">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">be_happy</span><span class="RktPn">(</span><span class="RktPn">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktSym">match</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="stt">:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">def</span><span class="hspace">&nbsp;</span><span class="RktSym">zero</span><span class="stt">:</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="stt">+</span><span class="hspace">&nbsp;</span><span class="RktSym">zero</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="stt">:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="stt">+</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktSym">cond</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktCmt">// check the weather</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">is_raining</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="stt">:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">take_umbrella</span><span class="RktPn">(</span><span class="RktPn">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktCmt">// check the destination</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">going_to_beach</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="stt">:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">wear_sunscreen</span><span class="RktPn">(</span><span class="RktPn">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">take_umbrella</span><span class="RktPn">(</span><span class="RktPn">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktCmt">// assume a hat is enough</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">~else</span><span class="stt">:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">wear_hat</span><span class="RktPn">(</span><span class="RktPn">)</span></p></td></tr></table></p><p>A <span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span> is allowed only within a block, and it also starts a
subblock on the right-hand side of the <span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span>. Each subsequent
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span> at the same indentation creates a new subblock. Shrubbery
notation allows <span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span> only within a block whose groups all contain
an immediate <span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span> subblock. A block of <span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span> subblocks is
an <a name="(tech._alts._block)"></a><span style="font-style: italic">alts-block</span>. A <span class="RktInBG"><span class="hspace"></span><span class="RktIn">:</span><span class="hspace"></span></span> isn&#8217;t needed or allowed before
the first <span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span> in an alts-block, because the <span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span> itself
is enough of an indication that a alts-block is starting.</p><p>Each line within a block forms a <a name="(tech._group)"></a><span style="font-style: italic">group</span>. Groups are important,
because parsing and macro expansion are constrained to operate on groups
(although a group can contain nested blocks, etc.). Groups at the same
level of indentation as a previous line continue that group&#8217;s block. A
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span> can have multiple groups in the subblock to its right, but
the block started by <span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span> turns out to be the only thing in its
own group.</p><p>A <span class="RktInBG"><span class="hspace"></span><span class="RktIn">:</span><span class="hspace"></span></span> doesn&#8217;t have to be followed by a new line, but it starts a
new block, anyway. Similarly, a <span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span> that starts a block doesn&#8217;t
have to be on a new line. These examples parse the same as the previous
examples:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">begin</span><span class="stt">:</span><span class="hspace">&nbsp;</span><span class="RktSym">group</span><span class="hspace">&nbsp;</span><span class="RktSym">within</span><span class="hspace">&nbsp;</span><span class="RktSym">block</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">another</span><span class="hspace">&nbsp;</span><span class="RktSym">group</span><span class="hspace">&nbsp;</span><span class="RktSym">within</span><span class="hspace">&nbsp;</span><span class="RktSym">block</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktSym">if</span><span class="hspace">&nbsp;</span><span class="RktSym">is_rotten</span><span class="RktPn">(</span><span class="RktSym">apple</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktSym">get_another</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktSym">take_bite</span><span class="RktPn">(</span><span class="RktPn">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym">be_happy</span><span class="RktPn">(</span><span class="RktPn">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktSym">match</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="stt">:</span><span class="hspace">&nbsp;</span><span class="RktSym">def</span><span class="hspace">&nbsp;</span><span class="RktSym">zero</span><span class="stt">:</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="stt">+</span><span class="hspace">&nbsp;</span><span class="RktSym">zero</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="stt">:</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="stt">+</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktSym">cond</span><span class="hspace">&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktSym">is_raining</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="stt">:</span><span class="hspace">&nbsp;</span><span class="RktSym">take_umbrella</span><span class="RktPn">(</span><span class="RktPn">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktSym">going_to_beach</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="stt">:</span><span class="hspace">&nbsp;</span><span class="RktSym">wear_sunscreen</span><span class="RktPn">(</span><span class="RktPn">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">take_umbrella</span><span class="RktPn">(</span><span class="RktPn">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktPn">~else</span><span class="stt">:</span><span class="hspace">&nbsp;</span><span class="RktSym">wear_hat</span><span class="RktPn">(</span><span class="RktPn">)</span></p></td></tr></table></p><p>Within a block, a <span class="RktInBG"><span class="hspace"></span><span class="RktIn">;</span><span class="hspace"></span></span> can be used instead of a new line to start
a new group, so these examples also parse the same:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">begin</span><span class="stt">:</span><span class="hspace">&nbsp;</span><span class="RktSym">group</span><span class="hspace">&nbsp;</span><span class="RktSym">within</span><span class="hspace">&nbsp;</span><span class="RktSym">block</span><span class="stt">;</span><span class="hspace">&nbsp;</span><span class="RktSym">another</span><span class="hspace">&nbsp;</span><span class="RktSym">group</span><span class="hspace">&nbsp;</span><span class="RktSym">within</span><span class="hspace">&nbsp;</span><span class="RktSym">block</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktSym">if</span><span class="hspace">&nbsp;</span><span class="RktSym">is_rotten</span><span class="RktPn">(</span><span class="RktSym">apple</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktSym">get_another</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktSym">take_bite</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="stt">;</span><span class="hspace">&nbsp;</span><span class="RktSym">be_happy</span><span class="RktPn">(</span><span class="RktPn">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktSym">match</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="stt">:</span><span class="hspace">&nbsp;</span><span class="RktSym">def</span><span class="hspace">&nbsp;</span><span class="RktSym">zero</span><span class="stt">:</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="stt">+</span><span class="hspace">&nbsp;</span><span class="RktSym">zero</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="stt">:</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="stt">+</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktSym">cond</span><span class="hspace">&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktSym">is_raining</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="stt">:</span><span class="hspace">&nbsp;</span><span class="RktSym">take_umbrella</span><span class="RktPn">(</span><span class="RktPn">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktSym">going_to_beach</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="stt">:</span><span class="hspace">&nbsp;</span><span class="RktSym">wear_sunscreen</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="stt">;</span><span class="hspace">&nbsp;</span><span class="RktSym">take_umbrella</span><span class="RktPn">(</span><span class="RktPn">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktPn">~else</span><span class="stt">:</span><span class="hspace">&nbsp;</span><span class="RktSym">wear_hat</span><span class="RktPn">(</span><span class="RktPn">)</span></p></td></tr></table></p><p>You can add extra <span class="RktInBG"><span class="hspace"></span><span class="RktIn">;</span><span class="hspace"></span></span>s, such as at the end of lines, since
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">;</span><span class="hspace"></span></span> will never create an empty group.</p><p>Finally, anything that can be written with newlines and indentation can
be written on a single line, but <span class="RktInBG"><span class="hspace"></span><span class="RktIn">&#171;</span><span class="hspace"></span></span> and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">&#187;</span><span class="hspace"></span></span> may be
required to delimit a block using <span class="RktInBG"><span class="hspace"></span><span class="RktIn">&#171;</span><span class="hspace"></span></span> just after <span class="RktInBG"><span class="hspace"></span><span class="RktIn">:</span><span class="hspace"></span></span> or
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span> and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">&#187;</span><span class="hspace"></span></span> at the end of the block. Normally,
parentheses work just as well, but the &lsquo;match&lsquo; example above illustrates
a rare case where <span class="RktInBG"><span class="hspace"></span><span class="RktIn">&#171;</span><span class="hspace"></span></span> and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">&#187;</span><span class="hspace"></span></span> would be needed to fit on
a single line. Without <span class="RktInBG"><span class="hspace"></span><span class="RktIn">&#171;</span><span class="hspace"></span></span> and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">&#187;</span><span class="hspace"></span></span>, the following form
would put <span class="stt">x + zero</span> insinde the definition of <span class="stt">zero</span>:</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">match</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="stt">:</span><span class="hspace">&nbsp;</span><span class="RktSym">def</span><span class="hspace">&nbsp;</span><span class="RktSym">zero</span><span class="stt">:</span><span class="RktPn">&#171;</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">&#187;</span><span class="stt">;</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="stt">+</span><span class="hspace">&nbsp;</span><span class="RktSym">zero</span><span class="hspace">&nbsp;</span><span class="stt">|</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="stt">:</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="stt">+</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span></p><p>Parentheses <span class="RktInBG"><span class="hspace"></span><span class="RktIn">(</span><span class="hspace"></span></span> ... <span class="RktInBG"><span class="hspace"></span><span class="RktIn">)</span><span class="hspace"></span></span>, square brackets <span class="RktInBG"><span class="hspace"></span><span class="RktIn">[</span><span class="hspace"></span></span> ...
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">]</span><span class="hspace"></span></span>, and curly braces <span class="RktInBG"><span class="hspace"></span><span class="RktIn">{</span><span class="hspace"></span></span> ... <span class="RktInBG"><span class="hspace"></span><span class="RktIn">}</span><span class="hspace"></span></span> combine a
sequence of groups. A comma <span class="RktInBG"><span class="hspace"></span><span class="RktIn">,</span><span class="hspace"></span></span> can be used to separate groups
on one line between the opener and closer. Furthermore, a &lsquo;,&lsquo; is
_required_ to separate groups, even if they&#8217;re not on the same line. You
can&#8217;t have extra &lsquo;,&lsquo;s, except after the last group.</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">f</span><span class="RktPn">(</span><span class="RktVal">1</span><span class="stt">,</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktVal">3</span><span class="stt">,</span><span class="hspace"></span><span class="RktVal">4</span><span class="RktPn">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktPn">[</span><span class="RktVal">"apples"</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktVal">"bananas"</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktVal">"cookies"</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktVal">"milk"</span><span class="RktPn">]</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace"></span><span class="RktSym">map</span><span class="RktPn">(</span><span class="RktSym">add_five</span><span class="stt">,</span><span class="hspace"></span><span class="RktPn">[</span><span class="RktVal">1</span><span class="stt">,</span><span class="hspace"></span><span class="RktVal">2</span><span class="stt">,</span><span class="hspace"></span><span class="RktVal">3</span><span class="stt">,</span><span class="hspace"></span><span class="RktVal">4</span><span class="stt">,</span><span class="RktPn">]</span><span class="RktPn">)</span></p></td></tr></table></p><p>Indentation still works for creating blocks within <span class="RktInBG"><span class="hspace"></span><span class="RktIn">(</span><span class="hspace"></span></span> ... <span class="RktInBG"><span class="hspace"></span><span class="RktIn">)</span><span class="hspace"></span></span>,
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">[</span><span class="hspace"></span></span> ... <span class="RktInBG"><span class="hspace"></span><span class="RktIn">]</span><span class="hspace"></span></span>, or <span class="RktInBG"><span class="hspace"></span><span class="RktIn">{</span><span class="hspace"></span></span> ... <span class="RktInBG"><span class="hspace"></span><span class="RktIn">}</span><span class="hspace"></span></span>:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">map</span><span class="RktPn">(</span><span class="RktSym">fun</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="stt">:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="stt">+</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">1</span><span class="stt">,</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="stt">,</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="stt">,</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">]</span><span class="RktPn">)</span></p></td></tr></table></p><p>There are some subtleties related to the &ldquo;precedence&rdquo; of <span class="RktInBG"><span class="hspace"></span><span class="RktIn">:</span><span class="hspace"></span></span>,
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">|</span><span class="hspace"></span></span>, <span class="RktInBG"><span class="hspace"></span><span class="RktIn">;</span><span class="hspace"></span></span>, and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">,</span><span class="hspace"></span></span>, but they&#8217;re likely to work as
you expect in a given example.</p></div></div><div id="contextindicator">&nbsp;</div></body></html>